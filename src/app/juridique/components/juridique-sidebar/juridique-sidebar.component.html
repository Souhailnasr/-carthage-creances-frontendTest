<div class="juridique-sidebar" [class.collapsed]="isCollapsed">
  <!-- Header -->
  <div class="sidebar-header">
    <div class="logo-section">
      <i class="fas fa-balance-scale logo-icon"></i>
      <span class="app-name">Carthage Créance</span>
    </div>
    <button class="collapse-btn" (click)="toggleCollapse()">
      <i class="fas" [ngClass]="isCollapsed ? 'fa-angle-right' : 'fa-angle-left'"></i>
    </button>
  </div>

  <!-- User Profile -->
  <div class="user-profile">
    <div class="user-avatar">
      <span class="avatar-text">{{ getUserInitials() }}</span>
    </div>
    <div class="user-info">
      <h3 class="user-name">{{ getUserName() }}</h3>
      <p class="user-role">{{ getUserRole() }}</p>
    </div>
  </div>

  <!-- Navigation -->
  <nav class="sidebar-nav">
    <ul class="nav-list">
      <!-- Dashboard -->
      <li class="nav-item" [class.active]="isActiveRoute('/juridique/dashboard')">
        <a class="nav-link" routerLink="/juridique/dashboard" routerLinkActive="active">
          <i class="fas fa-tachometer-alt"></i>
          <span>Tableau de bord</span>
        </a>
      </li>

      <!-- Avocats -->
      <li class="nav-item" [class.active]="isActiveRoute('/juridique/avocats')">
        <a class="nav-link" (click)="toggleSubmenu('avocat')">
          <i class="fas fa-user-tie"></i>
          <span>Avocats</span>
          <i class="fas expand-icon" [ngClass]="expandedMenus['avocat'] ? 'fa-chevron-down' : 'fa-chevron-right'"></i>
        </a>
        <ul class="nav-sublist" [class.expanded]="expandedMenus['avocat']">
          <li class="nav-subitem">
            <a class="nav-sublink" routerLink="/juridique/avocats" routerLinkActive="active">
              <i class="fas fa-list"></i>
              <span>Liste des Avocats</span>
            </a>
          </li>
          <li class="nav-subitem">
            <a class="nav-sublink" routerLink="/juridique/avocats/add" routerLinkActive="active">
              <i class="fas fa-plus"></i>
              <span>Ajouter Avocat</span>
            </a>
          </li>
        </ul>
      </li>

      <!-- Huissiers -->
      <li class="nav-item" [class.active]="isActiveRoute('/juridique/huissiers')">
        <a class="nav-link" (click)="toggleSubmenu('huissier')">
          <i class="fas fa-user-shield"></i>
          <span>Huissiers</span>
          <i class="fas expand-icon" [ngClass]="expandedMenus['huissier'] ? 'fa-chevron-down' : 'fa-chevron-right'"></i>
        </a>
        <ul class="nav-sublist" [class.expanded]="expandedMenus['huissier']">
          <li class="nav-subitem">
            <a class="nav-sublink" routerLink="/juridique/huissiers" routerLinkActive="active">
              <i class="fas fa-list"></i>
              <span>Liste des Huissiers</span>
            </a>
          </li>
          <li class="nav-subitem">
            <a class="nav-sublink" routerLink="/juridique/huissiers/add" routerLinkActive="active">
              <i class="fas fa-plus"></i>
              <span>Ajouter Huissier</span>
            </a>
          </li>
        </ul>
      </li>

      <!-- Affectation des Dossiers -->
      <li class="nav-item" [class.active]="isActiveRoute('/juridique/affectation-dossiers')">
        <a class="nav-link" routerLink="/juridique/affectation-dossiers" routerLinkActive="active">
          <i class="fas fa-folder-open"></i>
          <span>Affectation des Dossiers</span>
        </a>
      </li>

      <!-- Gestion des Audiences -->
      <li class="nav-item" [class.active]="isActiveRoute('/juridique/gestion-audiences')">
        <a class="nav-link" routerLink="/juridique/gestion-audiences" routerLinkActive="active">
          <i class="fas fa-gavel"></i>
          <span>Gestion des Audiences</span>
        </a>
      </li>

      <!-- Gestion des Utilisateurs -->
      <li class="nav-item" [class.active]="isActiveRoute('/juridique/gestion-utilisateurs')">
        <a class="nav-link" routerLink="/juridique/gestion-utilisateurs" routerLinkActive="active">
          <i class="fas fa-users"></i>
          <span>Gestion des Utilisateurs</span>
        </a>
      </li>

      <!-- Tâches -->
      <li class="nav-item" [class.active]="isActiveRoute('/juridique/taches')">
        <a class="nav-link" routerLink="/juridique/taches" routerLinkActive="active">
          <i class="fas fa-tasks"></i>
          <span>Tâches</span>
        </a>
      </li>

      <!-- Notifications (avec sous-menu) -->
      <li class="nav-item" [class.active]="isActiveRoute('/juridique/notifications') || isActiveRoute('/juridique/send-notification')">
        <a class="nav-link" (click)="toggleSubmenu('notifications')">
          <i class="fas fa-bell"></i>
          <span>Notifications</span>
          <i class="fas expand-icon" [ngClass]="expandedMenus['notifications'] ? 'fa-chevron-down' : 'fa-chevron-right'"></i>
        </a>
        <ul class="nav-sublist" [class.expanded]="expandedMenus['notifications']">
          <li class="nav-subitem">
            <a class="nav-sublink" routerLink="/juridique/notifications" routerLinkActive="active">
              <i class="fas fa-bell"></i>
              <span>Mes Notifications</span>
            </a>
          </li>
          <li class="nav-subitem">
            <a class="nav-sublink" routerLink="/juridique/send-notification" routerLinkActive="active">
              <i class="fas fa-paper-plane"></i>
              <span>Envoyer Notification</span>
            </a>
          </li>
        </ul>
      </li>
    </ul>
  </nav>

  <!-- Action Buttons -->
  <div class="sidebar-actions">
    <button class="action-btn profile-btn" (click)="goToProfile()">
      <i class="fas fa-user"></i>
      <span>Mon Profil</span>
    </button>
    <button class="action-btn logout-btn" (click)="logout()">
      <i class="fas fa-sign-out-alt"></i>
      <span>Déconnexion</span>
    </button>
  </div>
</div>
